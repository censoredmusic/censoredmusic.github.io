<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Harris Academy Morden</title>
<link rel="icon" type="image/png" href="covers/icon.png">

<style>
:root {
  --accent-color: #1db954;
}

body {
  margin: 0;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  background: #000;
  color: white;
  font-family: Arial, sans-serif;
}

.player {
  width: 360px;
  height: 600px;
  background: #111;
  border-radius: 22px;
  overflow: hidden;
  position: relative;
}

.pages {
  display: flex;
  width: 200%;
  height: 100%;
  transition: transform 0.4s ease;
}

.page {
  width: 100%;
  padding: 20px;
  box-sizing: border-box;
}

/* PAGE DOTS */
.dots {
  position: absolute;
  top: 12px;
  right: 15px;
  display: flex;
  gap: 6px;
}

.dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: #555;
  cursor: pointer;
}

.dot.active {
  background: var(--accent-color);
}

/* NOW PLAYING */
.cover {
  width: 100%;
  border-radius: 14px;
}

.song-title {
  font-size: 18px;
  margin-top: 15px;
  font-weight: bold;
}

.controls {
  display: flex;
  justify-content: space-around;
  margin-top: 20px;
}

button {
  background: none;
  border: none;
  color: white;
  font-size: 22px;
  cursor: pointer;
}

/* QUEUE */
.queue-list {
  max-height: 520px;
  overflow-y: auto;
}

.queue-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px;
  margin-bottom: 8px;
  background: rgba(255,255,255,0.05);
  border-radius: 10px;
  cursor: grab;
}

.queue-item.dragging {
  opacity: 0.4;
}

.queue-item img {
  width: 45px;
  height: 45px;
  border-radius: 8px;
  object-fit: cover;
}

.queue-item .title {
  font-size: 14px;
  font-weight: bold;
}
</style>
</head>

<body>

<div class="player">

  <!-- DOTS -->
  <div class="dots">
    <div class="dot active" onclick="goPage(0)"></div>
    <div class="dot" onclick="goPage(1)"></div>
  </div>

  <div class="pages" id="pages">

    <!-- NOW PLAYING PAGE -->
    <div class="page">
      <img id="cover" class="cover">
      <div class="song-title" id="title"></div>

      <div class="controls">
        <button onclick="prevSong()">⏮</button>
        <button onclick="togglePlay()">▶️</button>
        <button onclick="nextSong()">⏭</button>
      </div>
    </div>

    <!-- QUEUE PAGE -->
    <div class="page">
      <h3>Queue</h3>
      <div class="queue-list" id="queueList"></div>
    </div>

  </div>
</div>

<audio id="audio"></audio>

<script>
const pages = document.getElementById("pages");
const dots = document.querySelectorAll(".dot");

function goPage(i) {
  pages.style.transform = `translateX(-${i * 50}%)`;
  dots.forEach(d => d.classList.remove("active"));
  dots[i].classList.add("active");
}

/* SONG DATA */
const songs = [
  {
    title: "Daylight",
    artist: "Drake",
    file: "music/daylight.mp3",
    cover: "covers/daylight.jpg"
  },
  {
    title: "Parade on Cleveland",
    artist: "Young Thug ft Drake",
    file: "music/parade.mp3",
    cover: "covers/parade.jpg"
  }
];

let queue = [...songs];
let currentIndex = 0;

const audio = document.getElementById("audio");
const titleEl = document.getElementById("title");
const coverEl = document.getElementById("cover");

function loadSong(song) {
  titleEl.textContent = song.title;
  coverEl.src = song.cover;
  audio.src = song.file;
}

loadSong(queue[0]);

function togglePlay() {
  audio.paused ? audio.play() : audio.pause();
}

function nextSong() {
  queue.push(queue.shift());
  loadSong(queue[0]);
  audio.play();
  renderQueue();
}

function prevSong() {
  queue.unshift(queue.pop());
  loadSong(queue[0]);
  audio.play();
  renderQueue();
}

audio.addEventListener("ended", nextSong);

/* QUEUE RENDER + DRAG */
const queueList = document.getElementById("queueList");
let dragIndex = null;

function renderQueue() {
  queueList.innerHTML = "";
  queue.forEach((song, i) => {
    const item = document.createElement("div");
    item.className = "queue-item";
    item.draggable = true;
    item.dataset.index = i;

    item.innerHTML = `
      <img src="${song.cover}">
      <div class="title">${song.title}</div>
    `;

    item.addEventListener("dragstart", () => {
      dragIndex = i;
      item.classList.add("dragging");
    });

    item.addEventListener("dragend", () => {
      item.classList.remove("dragging");
    });

    item.addEventListener("dragover", e => e.preventDefault());

    item.addEventListener("drop", () => {
      const dragged = queue.splice(dragIndex, 1)[0];
      queue.splice(i, 0, dragged);
      renderQueue();
    });

    queueList.appendChild(item);
  });
}

renderQueue();
</script>

</body>
</html>


